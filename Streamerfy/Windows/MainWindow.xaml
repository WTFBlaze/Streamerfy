<Window x:Class="Streamerfy.Windows.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:services="clr-namespace:Streamerfy.Services"
        Title="Streamerfy"
        Height="500" Width="800"
        WindowStyle="None"
        ResizeMode="NoResize"
        AllowsTransparency="True"
        Background="Transparent"
        DataContext="{x:Static services:LanguageService.ViewModel}">


    <Window.Resources>
        <!-- Close Button Style -->
        <Style x:Key="RoundedCloseButtonStyle" TargetType="Button">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border"
                                Background="Transparent"
                                CornerRadius="0"
                                Padding="0"
                                SnapsToDevicePixels="True">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"
                                              RecognizesAccessKey="True"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#e81123"/>
                                <Setter TargetName="border" Property="CornerRadius" Value="0,10,0,0"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#c50f1f"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="Width" Value="40"/>
        </Style>
        
        <!-- Tab Button Style -->
        <Style x:Key="TabButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="15,5"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border"
                        Background="{TemplateBinding Background}"
                        Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center"
                                      VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <!-- Hover effect -->
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#2a2a2a"/>
                            </Trigger>
                            <!-- Selected tab effect -->
                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="selected">
                                <Setter TargetName="border" Property="Background" Value="#3a3a3a"/>
                            </DataTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Toggle Switch Style -->
        <Style x:Key="ToggleSwitchStyle" TargetType="ToggleButton">
            <Setter Property="Width" Value="50"/>
            <Setter Property="Height" Value="24"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Grid>
                            <!-- Track -->
                            <Border x:Name="SwitchBorder"
                            Background="#3a3a3a"
                            CornerRadius="12"
                            Height="24"
                            Width="50"/>

                            <!-- Knob -->
                            <Ellipse x:Name="SwitchKnob"
                             Fill="White"
                             Width="20"
                             Height="20"
                             Margin="2"
                             HorizontalAlignment="Left"
                             VerticalAlignment="Center"/>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="SwitchBorder" Property="Background" Value="#007acc"/>
                                <Setter TargetName="SwitchKnob" Property="HorizontalAlignment" Value="Right"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="SwitchBorder" Property="Background" Value="#505050"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Section Toggle Button Style -->
        <Style x:Key="SectionToggleButtonStyle" TargetType="ToggleButton">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="Background" Value="#2d2d30"/>
            <!-- Background for header -->
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="Padding" Value="8,4"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Border Background="{TemplateBinding Background}"
                        CornerRadius="4"
                        Padding="{TemplateBinding Padding}">
                            <Grid>
                                <TextBlock Text="{TemplateBinding Content}"
                                   FontWeight="Bold"
                                   VerticalAlignment="Center"/>

                                <TextBlock Text="▶"
                                   x:Name="Arrow"
                                   HorizontalAlignment="Right"
                                   VerticalAlignment="Center"
                                   Margin="0,0,10,0"
                                   RenderTransformOrigin="0.5,0.5">
                                    <TextBlock.RenderTransform>
                                        <RotateTransform Angle="0"/>
                                    </TextBlock.RenderTransform>
                                </TextBlock>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="Arrow" Property="Text" Value="▼"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#383838"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Icon Action Button Style -->
        <Style x:Key="IconActionButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#2a2a2a"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Padding" Value="8,4"/>
            <Setter Property="Margin" Value="2,0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="MinWidth" Value="40"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                        CornerRadius="4"
                        Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center"
                                      VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#3a3a3a"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#505050"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Border Background="#1e1e1e" CornerRadius="10" BorderBrush="#444" BorderThickness="1" ClipToBounds="True">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="40"/> <!-- Header -->
                <RowDefinition Height="40"/> <!-- Tabs -->
                <RowDefinition Height="*"/> <!-- Content -->
                <RowDefinition Height="40"/> <!-- Status Bar (new) -->
            </Grid.RowDefinitions>

            <!-- Header -->
            <Border Grid.Row="0"
                    Background="#2d2d30"
                    CornerRadius="10,10,0,0"
                    MouseLeftButtonDown="Header_MouseLeftButtonDown">
                <Grid>
                    <TextBlock x:Name="TitleVersionText"
                        FontSize="16"
                        Foreground="White"
                        VerticalAlignment="Center"
                        Margin="10,0"/>
                    <Button Style="{StaticResource RoundedCloseButtonStyle}"
                            Content="✕"
                            Click="Close_Click"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center"
                            Margin="0"/>
                </Grid>
            </Border>
            
            <!-- Tabs -->
            <StackPanel Grid.Row="1" Orientation="Horizontal" Background="#1f1f1f" Height="40">
                <Button x:Name="TabLogs"
                    Content="{Binding Tabs_Logs}"
                    Style="{StaticResource TabButtonStyle}"
                    Click="Tab_Logs_Click"/>

                <Button x:Name="TabHistory"
                    Content="{Binding Tabs_History}"
                    Style="{StaticResource TabButtonStyle}"
                    Click="Tab_History_Click"/>

                <Button x:Name="TabChangelog"
                    Content="{Binding Tabs_Changelog}"
                    Style="{StaticResource TabButtonStyle}"
                    Click="Tab_Changelog_Click"/>

                <Button x:Name="TabSettings"
                    Content="{Binding Tabs_Settings}"
                    Style="{StaticResource TabButtonStyle}"
                    Click="Tab_Settings_Click"/>
            </StackPanel>

            <!-- Logs Panel -->
            <Grid x:Name="LogsPanel"
                Grid.Row="2"
                Visibility="Visible"
                Margin="10"
                Background="#252526">

                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <TextBlock Text="{Binding Logs_Title}"
                    Foreground="White"
                    FontSize="16"
                    FontWeight="Bold"
                    Margin="10"
                    VerticalAlignment="Center"
                    HorizontalAlignment="Left"/>

                <!-- RichTextBox stays scrollable here -->
                <RichTextBox x:Name="LogBox"
                    Grid.Row="1"
                    IsReadOnly="True"
                    VerticalScrollBarVisibility="Auto"
                    Background="#1e1e1e"
                    BorderThickness="0"
                    FontFamily="Cascadia Code"
                    FontSize="13"
                    Foreground="White"
                    Padding="5"
                    Margin="10"/>
            </Grid>

            <!-- History Panel -->
            <ScrollViewer x:Name="HistoryPanel"
              Grid.Row="2"
              Visibility="Collapsed"
              Margin="10"
              Background="#252526"
              VerticalScrollBarVisibility="Auto">

                <StackPanel Margin="10">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Stretch" Margin="0,0,0,20">
                        <TextBlock Text="Playback History"
                            Foreground="White"
                            FontSize="16"
                            FontWeight="Bold"
                            VerticalAlignment="Center"/>

                        <Button Click="ClearHistory_Click"
                            Margin="20,0,0,0"
                            Background="#3a3a3a"
                            Foreground="White"
                            Padding="6,2"
                            FontSize="13"
                            BorderThickness="0"
                            Cursor="Hand"
                            HorizontalAlignment="Right">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="🧹" Margin="0,0,5,0"/>
                                <TextBlock Text="{Binding History_Clear}"/>
                            </StackPanel>
                        </Button>

                    </StackPanel>

                    <ItemsControl x:Name="HistoryList">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Margin="0,0,0,10"
                                    Padding="10"
                                    Background="#1e1e1e"
                                    CornerRadius="5"
                                    BorderBrush="#444"
                                    BorderThickness="1">
                                    <DockPanel LastChildFill="True">
                                        <!-- Song Info -->
                                        <StackPanel Orientation="Horizontal" DockPanel.Dock="Left">
                                            <Image Source="{Binding AlbumArtUrl}" Width="50" Height="50" Margin="0,0,10,0"/>
                                            <StackPanel>
                                                <TextBlock Text="{Binding TrackName}" Foreground="White" FontSize="14" FontWeight="Bold"/>
                                                <TextBlock Text="{Binding ArtistName}" Foreground="LightGray" FontSize="12"/>
                                                <TextBlock Text="{Binding RequestedBy}" Foreground="Gray" FontSize="11"/>
                                                <TextBlock Text="{Binding Timestamp}" Foreground="#888" FontSize="10"/>
                                            </StackPanel>
                                        </StackPanel>

                                        <!-- Action Buttons -->
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="10,0,0,0">
                                            <Button Style="{StaticResource IconActionButtonStyle}" Content="🔁" ToolTip="Re-Add to Queue" Click="Playback_Requeue_Click"/>
                                            <Button Style="{StaticResource IconActionButtonStyle}" Content="🚫" ToolTip="Blacklist Track" Click="Playback_BlacklistTrack_Click"/>
                                            <Button Style="{StaticResource IconActionButtonStyle}" Content="🎤🚫" ToolTip="Blacklist Artist" Click="Playback_BlacklistArtist_Click"/>
                                            <Button Style="{StaticResource IconActionButtonStyle}" Content="🔨" ToolTip="Ban Requester" Click="Playback_BanUser_Click"/>
                                        </StackPanel>
                                    </DockPanel>
                                </Border>
                            </DataTemplate>

                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>
            </ScrollViewer>

            <!-- Changelogs Panel -->
            <ScrollViewer x:Name="ChangelogPanel"
              Grid.Row="2"
              Visibility="Collapsed"
              Margin="10"
              Background="#252526"
              VerticalScrollBarVisibility="Auto">

                <StackPanel Margin="10" Orientation="Vertical">
                    <TextBlock Text="{Binding Changelog_Title}"
                   Foreground="White"
                   FontSize="16"
                   FontWeight="Bold"
                   Margin="0,0,0,20"/>

                    <!-- Version 1.0.3 -->
                    <ToggleButton Content="v1.0.3"
                        Style="{StaticResource SectionToggleButtonStyle}"
                        IsChecked="True"
                        Checked="ChangelogToggle_Checked"
                        Unchecked="ChangelogToggle_Unchecked"
                        Tag="Changelog_v1_0_3"/>

                    <StackPanel x:Name="Changelog_v1_0_3"
                        Visibility="Visible"
                        Margin="10,0,0,15">
                        <TextBlock Text="• Added Command Customization" Foreground="White" FontSize="13" Margin="0,0,0,5"/>
                        <TextBlock Text="• Added Translation System" Foreground="White" FontSize="13" Margin="0,0,0,5"/>
                        <TextBlock Text="• Added English Lang File" Foreground="White" FontSize="13" Margin="0,0,0,5"/>
                    </StackPanel>

                    <!-- Version 1.0.2 -->
                    <ToggleButton Content="v1.0.2"
                        Style="{StaticResource SectionToggleButtonStyle}"
                        IsChecked="False"
                        Checked="ChangelogToggle_Checked"
                        Unchecked="ChangelogToggle_Unchecked"
                        Tag="Changelog_v1_0_2"/>

                    <StackPanel x:Name="Changelog_v1_0_2"
                        Visibility="Collapsed"
                        Margin="10,0,0,15">
                        <TextBlock Text="• Added Playback History" Foreground="White" FontSize="13" Margin="0,0,0,5"/>
                        <TextBlock Text="• Added Confirm Dialog Popup" Foreground="White" FontSize="13" Margin="0,0,0,5"/>
                        <TextBlock Text="• Added Info Dialog Popup" Foreground="White" FontSize="13" Margin="0,0,0,5"/>
                        <TextBlock Text="• Organized WPF Windows into their own folder" Foreground="White" FontSize="13" Margin="0,0,0,5"/>
                    </StackPanel>

                    <!-- Version 1.0.1 -->
                    <ToggleButton Content="v1.0.1"
                        Style="{StaticResource SectionToggleButtonStyle}"
                        IsChecked="False"
                        Checked="ChangelogToggle_Checked"
                        Unchecked="ChangelogToggle_Unchecked"
                        Tag="Changelog_v1_0_1"/>

                    <StackPanel x:Name="Changelog_v1_0_1"
                        Visibility="Collapsed"
                        Margin="10,0,0,15">
                        <TextBlock Text="• Added auto-update checker" Foreground="White" FontSize="13" Margin="0,0,0,5"/>
                        <TextBlock Text="• Added now playing service" Foreground="White" FontSize="13" Margin="0,0,0,5"/>
                        <TextBlock Text="• Added NowPlaying.html and NowPlaying.txt OBS support" Foreground="White" FontSize="13" Margin="0,0,0,5"/>
                        <TextBlock Text="• Performance improvements" Foreground="White" FontSize="13" Margin="0,0,0,5"/>
                        <TextBlock Text="• Added Changelog Tab" Foreground="White" FontSize="13" Margin="0,0,0,5"/>
                    </StackPanel>

                    <!-- Version 1.0.0 -->
                    <ToggleButton Content="v1.0.0"
                      Style="{StaticResource SectionToggleButtonStyle}"
                      IsChecked="false"
                      Checked="ChangelogToggle_Checked"
                      Unchecked="ChangelogToggle_Unchecked"
                      Tag="Changelog_v1_0_0"/>

                    <StackPanel x:Name="Changelog_v1_0_0"
                    Visibility="Collapsed"
                    Margin="10,0,0,15">
                        <TextBlock Text="• Initial release of Streamerfy" Foreground="White" FontSize="13" Margin="0,0,0,5"/>
                        <TextBlock Text="• Twitch chat song queuing" Foreground="White" FontSize="13" Margin="0,0,0,5"/>
                        <TextBlock Text="• Artist, Track and User blacklisting" Foreground="White" FontSize="13" Margin="0,0,0,5"/>
                        <TextBlock Text="• Explicit song blocking" Foreground="White" FontSize="13" Margin="0,0,0,5"/>
                    </StackPanel>

                    <!-- Add more versions here -->
                </StackPanel>
            </ScrollViewer>

            <!-- Settings Panel -->
            <ScrollViewer x:Name="SettingsPanel"
                Grid.Row="2"
                Visibility="Collapsed"
                Margin="10"
                Background="#252526"
                VerticalScrollBarVisibility="Auto"
                IsHitTestVisible="True"
                Focusable="True">

                <StackPanel Margin="10" Orientation="Vertical" VerticalAlignment="Top" >
                    <!-- Title -->
                    <TextBlock Text="{Binding Settings_Title}"
                        Foreground="White"
                        FontSize="16"
                        FontWeight="Bold"
                        Margin="0,0,0,20"/>

                    <!-- Uncategorized Buttons -->
                    <StackPanel Margin="0,0,0,10" Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="{Binding Settings_Auto_Connect}"
                            VerticalAlignment="Center"
                            Margin="0,0,10,0"
                            Foreground="White"
                            FontSize="13"/>

                        <ToggleButton x:Name="AutoConnectToggle"
                            Style="{StaticResource ToggleSwitchStyle}"
                            IsChecked="False"/>
                    </StackPanel>

                    <StackPanel Margin="0,0,0,10" Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="{Binding Settings_Block_Explicit}"
                            VerticalAlignment="Center"
                            Margin="0,0,10,0"
                            Foreground="White"
                            FontSize="13"/>

                        <ToggleButton x:Name="BlockExplicitToggle"
                            Style="{StaticResource ToggleSwitchStyle}"
                            IsChecked="False"/>
                    </StackPanel>

                    <!-- Twitch Section -->
                    <ToggleButton x:Name="TwitchSectionToggle"
                        Content="{Binding Settings_Category_Twitch}"
                        Style="{StaticResource SectionToggleButtonStyle}"
                        IsChecked="False"
                        Checked="TwitchSectionToggle_Checked"
                        Unchecked="TwitchSectionToggle_Unchecked"
                        Margin="0,0,0,10"/>

                    <StackPanel x:Name="TwitchSettingsPanel"
                        Visibility="Collapsed"
                        Margin="10,0,0,10">

                        <StackPanel Margin="0,0,0,10">
                            <TextBlock Text="{Binding Settings_Bot_Username}" Foreground="White" FontSize="13"/>
                            <TextBox x:Name="UsernameField"
                                Background="#1e1e1e"
                                Foreground="White"
                                BorderBrush="#444"
                                BorderThickness="1"
                                Padding="5"
                                FontSize="13"
                                TextChanged="UsernameField_TextChanged"/>
                        </StackPanel>

                        <StackPanel Margin="0,0,0,10">
                            <TextBlock Text="{Binding Settings_Bot_OAuth}" Foreground="White" FontSize="13"/>
                            <TextBox x:Name="OAuthField"
                                Background="#1e1e1e"
                                Foreground="White"
                                BorderBrush="#444"
                                BorderThickness="1"
                                Padding="5"
                                FontSize="13"/>
                        </StackPanel>

                        <StackPanel Margin="0,0,0,10">
                            <TextBlock Text="{Binding Settings_Channel}" Foreground="White" FontSize="13"/>
                            <TextBox x:Name="ChannelField"
                                Background="#1e1e1e"
                                Foreground="White"
                                BorderBrush="#444"
                                BorderThickness="1"
                                Padding="5"
                                FontSize="13"/>
                        </StackPanel>

                    </StackPanel>

                    <!-- Spotify Section -->
                    <ToggleButton x:Name="SpotifySectionToggle"
                        Content="{Binding Settings_Category_Spotify}"
                        Style="{StaticResource SectionToggleButtonStyle}"
                        IsChecked="False"
                        Checked="SpotifySectionToggle_Checked"
                        Unchecked="SpotifySectionToggle_Unchecked"
                        Margin="0,0,0,10"/>

                    <StackPanel x:Name="SpotifySettingsPanel"
                        Visibility="Collapsed"
                        Margin="10,0,0,10">

                        <StackPanel Margin="0,0,0,10">
                            <TextBlock Text="{Binding Settings_Spotify_ID}" Foreground="White" FontSize="13"/>
                            <TextBox x:Name="ClientIDField"
                                Background="#1e1e1e"
                                Foreground="White"
                                BorderBrush="#444"
                                BorderThickness="1"
                                Padding="5"
                                FontSize="13"/>
                        </StackPanel>

                        <StackPanel Margin="0,0,0,10">
                            <TextBlock Text="{Binding Settings_Spotify_Secret}" Foreground="White" FontSize="13"/>
                            <TextBox x:Name="ClientSecretField"
                                Background="#1e1e1e"
                                Foreground="White"
                                BorderBrush="#444"
                                BorderThickness="1"
                                Padding="5"
                                FontSize="13"/>
                        </StackPanel>
                    </StackPanel>

                    <!-- Commands Section -->
                    <ToggleButton x:Name="CommandsSectionToggle"
                        Content="{Binding Settings_Category_Commands}"
                        Style="{StaticResource SectionToggleButtonStyle}"
                        IsChecked="False"
                        Checked="CommandsSectionToggle_Checked"
                        Unchecked="CommandsSectionToggle_Unchecked"
                        Margin="0,0,0,10"/>

                    <StackPanel x:Name="CommandsSectionPanel"
                        Visibility="Collapsed"
                        Margin="10,0,0,10">

                        <StackPanel Margin="0,0,0,10">
                            <TextBlock Text="{Binding Settings_Command_Prefix}" Foreground="White" FontSize="13"/>
                            <TextBox x:Name="CmdPrefixField"
                                Background="#1e1e1e"
                                Foreground="White"
                                BorderBrush="#444"
                                BorderThickness="1"
                                Padding="5"
                                FontSize="13"/>
                        </StackPanel>

                        <StackPanel Margin="0,0,0,10">
                            <TextBlock Text="{Binding Settings_Command_Queue}" Foreground="White" FontSize="13"/>
                            <TextBox x:Name="QueueCmdField"
                                Background="#1e1e1e"
                                Foreground="White"
                                BorderBrush="#444"
                                BorderThickness="1"
                                Padding="5"
                                FontSize="13"/>
                        </StackPanel>

                        <StackPanel Margin="0,0,0,10">
                            <TextBlock Text="{Binding Settings_Command_Blacklist}" Foreground="White" FontSize="13"/>
                            <TextBox x:Name="BlacklistCmdField"
                                Background="#1e1e1e"
                                Foreground="White"
                                BorderBrush="#444"
                                BorderThickness="1"
                                Padding="5"
                                FontSize="13"/>
                        </StackPanel>

                        <StackPanel Margin="0,0,0,10">
                            <TextBlock Text="{Binding Settings_Command_Unblacklist}" Foreground="White" FontSize="13"/>
                            <TextBox x:Name="UnblacklistCmdField"
                                Background="#1e1e1e"
                                Foreground="White"
                                BorderBrush="#444"
                                BorderThickness="1"
                                Padding="5"
                                FontSize="13"/>
                        </StackPanel>

                        <StackPanel Margin="0,0,0,10">
                            <TextBlock Text="{Binding Settings_Command_Ban}" Foreground="White" FontSize="13"/>
                            <TextBox x:Name="BanUserCmdField"
                                Background="#1e1e1e"
                                Foreground="White"
                                BorderBrush="#444"
                                BorderThickness="1"
                                Padding="5"
                                FontSize="13"/>
                        </StackPanel>

                        <StackPanel Margin="0,0,0,10">
                            <TextBlock Text="{Binding Settings_Command_Unban}" Foreground="White" FontSize="13"/>
                            <TextBox x:Name="UnbanUserCmdField"
                                Background="#1e1e1e"
                                Foreground="White"
                                BorderBrush="#444"
                                BorderThickness="1"
                                Padding="5"
                                FontSize="13"/>
                        </StackPanel>
                    </StackPanel>

                    <!-- Save Button -->
                    <Button Content="{Binding Settings_Save}"
                        Click="SaveSettings_Click"
                        Background="#3a3a3a"
                        Foreground="White"
                        Padding="8,4"
                        FontSize="13"
                        BorderThickness="0"
                        Cursor="Hand"
                        HorizontalAlignment="Left"
                        Width="150"/>
                </StackPanel>
            </ScrollViewer>

            <!-- Status Bar -->
            <Grid Grid.Row="3" Background="#1e1e1e">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Bottom-left: connection status -->
                <TextBlock FontSize="12"
                    Name="ConnectionStatusText"
                    Foreground="Red"
                    VerticalAlignment="Center"
                    HorizontalAlignment="Left"
                    Margin="10,5,0,5"
                    Grid.Column="0">
                    <TextBlock.Inlines>
                        <Run Text="● " />
                        <Run Text="{Binding ConnectionStatusDynamic}" />
                    </TextBlock.Inlines>
                </TextBlock>


                <!-- Bottom-right: Connect button -->
                <Button x:Name="ConnectButton"
                    Content="{Binding Settings_Save}"
                    Click="ConnectButton_Click"
                    Background="#3a3a3a"
                    Foreground="White"
                    FontSize="12"
                    Padding="8,4"
                    Margin="0,5,10,5"
                    BorderThickness="0"
                    Cursor="Hand"
                    HorizontalAlignment="Right"
                    Grid.Column="1"/>
            </Grid>
        </Grid>
    </Border>
</Window>
